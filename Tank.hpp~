#include "Utils.hpp"

class Tank {

public:
  Tank( SDL_Renderer* ren, std::string type = "main" );
  ~Tank();

  enum Directions { UP, DOWN, LEFT, RIGHT } dir;

  struct Vector2 {
    float x;
    float y;
  } movement;

  void draw();
  void control( const Uint8* key_states, std::string control_type, SDL_Rect objects[], int objects_amount );
  void fire();

  int getX();
  int getY();
  int getWidth();
  int getHeight();
  SDL_Rect& getRect();
  int getAmmo();
  bool getState();

  void setX( int x );
  void setY( int y );
  void setAmmo( int amount, char sign );
  void setState( bool isFiring );

private:
  SDL_Rect transform;
  SDL_Texture* texture[4];
  SDL_Renderer* renderer;
  int ammo = 5;
  bool isFiring = false;

  void _move_up( SDL_Rect objects[], int array_length );
  void _move_down( SDL_Rect objects[], int array_length );
  void _move_left( SDL_Rect objects[], int array_length );
  void _move_right( SDL_Rect objects[], int array_length );
};
